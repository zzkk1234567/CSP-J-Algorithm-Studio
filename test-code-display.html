<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä»£ç æ˜¾ç¤ºæµ‹è¯•</title>
    <link href="https://cdn.tailwindcss.com" rel="stylesheet">
    <style>
        pre {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
        }
        code {
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            line-height: 1.5;
        }
    </style>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-6">
        <h1 class="text-2xl font-bold mb-4">ğŸ§ª ä»£ç æ˜¾ç¤ºæµ‹è¯•</h1>
        
        <div class="mb-6">
            <h2 class="text-lg font-bold mb-2">é€‰æ‹©ç®—æ³•ï¼š</h2>
            <div class="flex gap-2 flex-wrap">
                <button onclick="testAlgorithm('bubble-sort')" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
                    å†’æ³¡æ’åº
                </button>
                <button onclick="testAlgorithm('quick-sort')" class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600">
                    å¿«é€Ÿæ’åº
                </button>
                <button onclick="testAlgorithm('binary-search')" class="px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600">
                    äºŒåˆ†æŸ¥æ‰¾
                </button>
                <button onclick="testAlgorithm('dfs')" class="px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600">
                    DFS
                </button>
                <button onclick="testAlgorithm('bfs')" class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">
                    BFS
                </button>
            </div>
        </div>
        
        <div class="mb-4">
            <h2 class="text-lg font-bold mb-2">ç®—æ³•ä¿¡æ¯ï¼š</h2>
            <div id="algo-info" class="bg-gray-50 p-4 rounded"></div>
        </div>
        
        <div class="mb-4">
            <h2 class="text-lg font-bold mb-2">C++ä»£ç ï¼š</h2>
            <pre id="code-display"><code></code></pre>
        </div>
        
        <div>
            <h2 class="text-lg font-bold mb-2">ä»£ç è¯´æ˜ï¼š</h2>
            <div id="code-explanation" class="bg-blue-50 p-4 rounded"></div>
        </div>
    </div>

    <script>
        // ä»csp-j-optimized.htmlå¤åˆ¶ç®—æ³•æ•°æ®åº“
        const algorithmsDatabase = {
            'bubble-sort': {
                id: 'bubble-sort',
                name: 'å†’æ³¡æ’åº',
                code: `void bubbleSort(int arr[], int n) {
    // å¤–å±‚å¾ªç¯ï¼šæ§åˆ¶æ’åºçš„è½®æ•°ï¼Œéœ€è¦n-1è½®
    for (int i = 0; i < n-1; i++) {
        // ä¼˜åŒ–æ ‡å¿—ï¼šè®°å½•æœ¬è½®æ˜¯å¦å‘ç”Ÿäº¤æ¢
        bool swapped = false;
        
        // å†…å±‚å¾ªç¯ï¼šæ¯”è¾ƒç›¸é‚»å…ƒç´ å¹¶äº¤æ¢
        // æ¯è½®åæœ€å¤§å…ƒç´ ä¼š"å†’æ³¡"åˆ°æœ«å°¾ï¼Œæ‰€ä»¥èŒƒå›´é€æ¸ç¼©å°
        for (int j = 0; j < n-i-1; j++) {
            // å¦‚æœå‰é¢çš„å…ƒç´ å¤§äºåé¢çš„å…ƒç´ ï¼Œåˆ™äº¤æ¢
            if (arr[j] > arr[j+1]) {
                swap(arr[j], arr[j+1]);
                swapped = true;  // æ ‡è®°å‘ç”Ÿäº†äº¤æ¢
            }
        }
        
        // ä¼˜åŒ–ï¼šå¦‚æœæœ¬è½®æ²¡æœ‰å‘ç”Ÿäº¤æ¢ï¼Œè¯´æ˜æ•°ç»„å·²ç»æœ‰åº
        if (!swapped) break;
    }
}`,
                codeExplanation: 'å¤–å±‚å¾ªç¯æ§åˆ¶éå†æ¬¡æ•°ï¼Œå†…å±‚å¾ªç¯è¿›è¡Œç›¸é‚»å…ƒç´ æ¯”è¾ƒå’Œäº¤æ¢ã€‚æ·»åŠ swappedæ ‡å¿—å¯ä»¥æå‰ç»“æŸæ’åºã€‚'
            },
            'quick-sort': {
                id: 'quick-sort',
                name: 'å¿«é€Ÿæ’åº',
                code: `// åˆ†åŒºå‡½æ•°ï¼šå°†æ•°ç»„åˆ†ä¸ºå°äºå’Œå¤§äºåŸºå‡†çš„ä¸¤éƒ¨åˆ†
int partition(int arr[], int low, int high) {
    // é€‰æ‹©æœ€åä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†(pivot)
    int pivot = arr[high];
    // iæŒ‡å‘å°äºpivotçš„åŒºåŸŸçš„æœ€åä¸€ä¸ªå…ƒç´ 
    int i = low - 1;
    
    // éå†æ•°ç»„ï¼Œå°†å°äºpivotçš„å…ƒç´ ç§»åˆ°å·¦è¾¹
    for (int j = low; j < high; j++) {
        if (arr[j] < pivot) {
            i++;  // æ‰©å¤§å°äºåŒºåŸŸ
            swap(arr[i], arr[j]);  // äº¤æ¢å…ƒç´ 
        }
    }
    
    // å°†pivotæ”¾åˆ°æ­£ç¡®ä½ç½®ï¼ˆå°äºåŒºåŸŸå’Œå¤§äºåŒºåŸŸä¹‹é—´ï¼‰
    swap(arr[i + 1], arr[high]);
    return i + 1;  // è¿”å›pivotçš„æœ€ç»ˆä½ç½®
}

// å¿«é€Ÿæ’åºä¸»å‡½æ•°
void quickSort(int arr[], int low, int high) {
    if (low < high) {
        // åˆ†åŒºæ“ä½œï¼Œè·å–åŸºå‡†å…ƒç´ çš„æ­£ç¡®ä½ç½®
        int pivot = partition(arr, low, high);
        
        // é€’å½’æ’åºåŸºå‡†å·¦è¾¹çš„å­æ•°ç»„
        quickSort(arr, low, pivot - 1);
        // é€’å½’æ’åºåŸºå‡†å³è¾¹çš„å­æ•°ç»„
        quickSort(arr, pivot + 1, high);
    }
}`,
                codeExplanation: 'é€‰æ‹©æœ€åä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†ï¼Œå°†æ•°ç»„åˆ†ä¸ºå°äºå’Œå¤§äºåŸºå‡†çš„ä¸¤éƒ¨åˆ†ï¼Œç„¶åé€’å½’æ’åºã€‚'
            },
            'binary-search': {
                id: 'binary-search',
                name: 'äºŒåˆ†æŸ¥æ‰¾',
                code: `int binarySearch(int arr[], int n, int target) {
    // åˆå§‹åŒ–æœç´¢åŒºé—´çš„å·¦å³è¾¹ç•Œ
    int left = 0, right = n - 1;
    
    // å½“æœç´¢åŒºé—´æœ‰æ•ˆæ—¶ç»§ç»­æŸ¥æ‰¾
    while (left <= right) {
        // è®¡ç®—ä¸­é—´ä½ç½®ï¼ˆé¿å…æº¢å‡ºçš„å†™æ³•ï¼‰
        int mid = left + (right - left) / 2;
        
        // å¦‚æœä¸­é—´å…ƒç´ å°±æ˜¯ç›®æ ‡ï¼Œç›´æ¥è¿”å›
        if (arr[mid] == target)
            return mid;
        
        // å¦‚æœä¸­é—´å…ƒç´ å°äºç›®æ ‡ï¼Œè¯´æ˜ç›®æ ‡åœ¨å³åŠéƒ¨åˆ†
        if (arr[mid] < target)
            left = mid + 1;  // ç¼©å°æœç´¢åŒºé—´åˆ°å³åŠéƒ¨åˆ†
        else
            // å¦‚æœä¸­é—´å…ƒç´ å¤§äºç›®æ ‡ï¼Œè¯´æ˜ç›®æ ‡åœ¨å·¦åŠéƒ¨åˆ†
            right = mid - 1;  // ç¼©å°æœç´¢åŒºé—´åˆ°å·¦åŠéƒ¨åˆ†
    }
    
    // æœç´¢åŒºé—´ä¸ºç©ºï¼Œæœªæ‰¾åˆ°ç›®æ ‡
    return -1;
}`,
                codeExplanation: 'é€šè¿‡ä¸æ–­ç¼©å°æœç´¢èŒƒå›´ï¼Œæ¯æ¬¡å°†æœç´¢åŒºé—´å‡åŠï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡æˆ–åŒºé—´ä¸ºç©ºã€‚'
            },
            'dfs': {
                id: 'dfs',
                name: 'æ·±åº¦ä¼˜å…ˆæœç´¢',
                code: `void DFS(int v, bool visited[], vector<int> adj[]) {
    // æ ‡è®°å½“å‰èŠ‚ç‚¹ä¸ºå·²è®¿é—®
    visited[v] = true;
    // è®¿é—®å½“å‰èŠ‚ç‚¹ï¼ˆè¿™é‡Œæ˜¯è¾“å‡ºï¼‰
    cout << v << " ";
    
    // éå†å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰é‚»æ¥èŠ‚ç‚¹
    for (int u : adj[v]) {
        // å¦‚æœé‚»æ¥èŠ‚ç‚¹æœªè¢«è®¿é—®ï¼Œé€’å½’è®¿é—®å®ƒ
        if (!visited[u])
            DFS(u, visited, adj);
    }
    // é€’å½’è¿”å›åï¼Œä¼šå›æº¯åˆ°ä¸Šä¸€å±‚èŠ‚ç‚¹
}`,
                codeExplanation: 'é€’å½’è®¿é—®å½“å‰èŠ‚ç‚¹ï¼Œç„¶åå¯¹æ‰€æœ‰æœªè®¿é—®çš„é‚»æ¥èŠ‚ç‚¹é€’å½’è°ƒç”¨DFSã€‚'
            },
            'bfs': {
                id: 'bfs',
                name: 'å¹¿åº¦ä¼˜å…ˆæœç´¢',
                code: `void BFS(int start, vector<int> adj[], int V) {
    // åˆ›å»ºè®¿é—®æ ‡è®°æ•°ç»„ï¼Œåˆå§‹åŒ–ä¸ºfalse
    bool visited[V] = {false};
    // åˆ›å»ºé˜Ÿåˆ—ç”¨äºå­˜å‚¨å¾…è®¿é—®çš„èŠ‚ç‚¹
    queue<int> q;
    
    // æ ‡è®°èµ·å§‹èŠ‚ç‚¹ä¸ºå·²è®¿é—®ï¼Œå¹¶åŠ å…¥é˜Ÿåˆ—
    visited[start] = true;
    q.push(start);
    
    // å½“é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶ï¼Œç»§ç»­éå†
    while (!q.empty()) {
        // å–å‡ºé˜Ÿé¦–èŠ‚ç‚¹
        int v = q.front();
        q.pop();
        cout << v << " ";  // è®¿é—®å½“å‰èŠ‚ç‚¹
        
        // éå†å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰é‚»æ¥èŠ‚ç‚¹
        for (int u : adj[v]) {
            // å¦‚æœé‚»æ¥èŠ‚ç‚¹æœªè¢«è®¿é—®
            if (!visited[u]) {
                visited[u] = true;  // æ ‡è®°ä¸ºå·²è®¿é—®
                q.push(u);          // åŠ å…¥é˜Ÿåˆ—
            }
        }
    }
}`,
                codeExplanation: 'ä½¿ç”¨é˜Ÿåˆ—å­˜å‚¨å¾…è®¿é—®èŠ‚ç‚¹ï¼ŒæŒ‰å±‚æ¬¡é¡ºåºè®¿é—®æ‰€æœ‰èŠ‚ç‚¹ã€‚å…ˆè®¿é—®çš„èŠ‚ç‚¹ï¼Œå…¶é‚»æ¥èŠ‚ç‚¹ä¹Ÿå…ˆè¢«è®¿é—®ã€‚'
            }
        };
        
        function testAlgorithm(algoId) {
            const algo = algorithmsDatabase[algoId];
            if (!algo) {
                alert('ç®—æ³•æœªæ‰¾åˆ°');
                return;
            }
            
            // æ˜¾ç¤ºç®—æ³•ä¿¡æ¯
            document.getElementById('algo-info').innerHTML = `
                <div class="font-bold text-lg mb-2">${algo.name}</div>
                <div class="text-sm text-gray-600">ç®—æ³•ID: ${algo.id}</div>
                <div class="text-sm text-gray-600">ä»£ç é•¿åº¦: ${algo.code.length} å­—ç¬¦</div>
                <div class="text-sm text-gray-600">ä»£ç è¡Œæ•°: ${algo.code.split('\\n').length} è¡Œ</div>
            `;
            
            // æ˜¾ç¤ºä»£ç 
            const codeElement = document.querySelector('#code-display code');
            codeElement.textContent = algo.code;
            
            // æ˜¾ç¤ºä»£ç è¯´æ˜
            document.getElementById('code-explanation').textContent = algo.codeExplanation;
            
            console.log('ç®—æ³•:', algo.name);
            console.log('ä»£ç é•¿åº¦:', algo.code.length);
            console.log('ä»£ç å†…å®¹:', algo.code);
        }
        
        // é¡µé¢åŠ è½½æ—¶æµ‹è¯•å†’æ³¡æ’åº
        window.onload = function() {
            testAlgorithm('bubble-sort');
        };
    </script>
</body>
</html>
