<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®—æ³•å¯è§†åŒ–å™¨æµ‹è¯•</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 p-8">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-3xl font-bold mb-6">ğŸ§ª ç®—æ³•å¯è§†åŒ–å™¨æµ‹è¯•</h1>

        <div class="grid grid-cols-2 gap-6 mb-6">
            <button onclick="testBubbleSort()"
                class="px-6 py-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-lg font-bold">
                æµ‹è¯•å†’æ³¡æ’åº
            </button>
            <button onclick="testSelectionSort()"
                class="px-6 py-4 bg-green-500 text-white rounded-lg hover:bg-green-600 text-lg font-bold">
                æµ‹è¯•é€‰æ‹©æ’åº
            </button>
            <button onclick="testInsertionSort()"
                class="px-6 py-4 bg-purple-500 text-white rounded-lg hover:bg-purple-600 text-lg font-bold">
                æµ‹è¯•æ’å…¥æ’åº
            </button>
            <button onclick="testLinearSearch()"
                class="px-6 py-4 bg-orange-500 text-white rounded-lg hover:bg-orange-600 text-lg font-bold">
                æµ‹è¯•çº¿æ€§æœç´¢
            </button>
            <button onclick="testBinarySearch()"
                class="px-6 py-4 bg-red-500 text-white rounded-lg hover:bg-red-600 text-lg font-bold">
                æµ‹è¯•äºŒåˆ†æœç´¢
            </button>
        </div>

        <div id="viz-container"></div>

        <div id="cpp-code-display"
            class="font-mono text-sm bg-gray-900 text-gray-100 p-4 rounded-lg mt-4 overflow-x-auto whitespace-pre leading-relaxed">
        </div>

        <div id="test-results" class="mt-6 p-4 bg-white rounded-lg shadow">
            <h2 class="text-xl font-bold mb-2">æµ‹è¯•ç»“æœ</h2>
            <div id="results-content" class="text-gray-700">ç­‰å¾…æµ‹è¯•...</div>
        </div>
    </div>

    <script src="algorithm-visualizer.js"></script>
    <script>
        let currentVisualizer = null;

        function log(message) {
            const resultsContent = document.getElementById('results-content');
            const timestamp = new Date().toLocaleTimeString();
            resultsContent.innerHTML += `<div>[${timestamp}] ${message}</div>`;
        }

        function clearContainer() {
            const container = document.getElementById('viz-container');
            container.innerHTML = '<div id="viz-root"></div>';
            if (currentVisualizer) {
                currentVisualizer.destroy();
            }
        }

        function testBubbleSort() {
            log('ğŸ”µ å¼€å§‹æµ‹è¯•å†’æ³¡æ’åº...');
            clearContainer();

            try {
                currentVisualizer = new SortingVisualizer('viz-root', 'bubble');
                window.visualizer = currentVisualizer;
                currentVisualizer.init();
                currentVisualizer.setData([64, 34, 25, 12, 22, 11, 90]);
                log('âœ… å†’æ³¡æ’åºåˆå§‹åŒ–æˆåŠŸï¼');
                log('ğŸ“Š æ•°æ®: [64, 34, 25, 12, 22, 11, 90]');
                log('ğŸ’¡ ç‚¹å‡»"æ’­æ”¾"æŒ‰é’®å¼€å§‹æ¼”ç¤º');
            } catch (error) {
                log('âŒ é”™è¯¯: ' + error.message);
                console.error(error);
            }
        }

        function testSelectionSort() {
            log('ğŸŸ¢ å¼€å§‹æµ‹è¯•é€‰æ‹©æ’åº...');
            clearContainer();

            try {
                currentVisualizer = new SortingVisualizer('viz-root', 'selection');
                window.visualizer = currentVisualizer;
                currentVisualizer.init();
                currentVisualizer.setData([64, 34, 25, 12, 22, 11, 90]);
                log('âœ… é€‰æ‹©æ’åºåˆå§‹åŒ–æˆåŠŸï¼');
                log('ğŸ“Š æ•°æ®: [64, 34, 25, 12, 22, 11, 90]');
                log('ğŸ’¡ ç‚¹å‡»"æ’­æ”¾"æŒ‰é’®å¼€å§‹æ¼”ç¤º');
            } catch (error) {
                log('âŒ é”™è¯¯: ' + error.message);
                console.error(error);
            }
        }

        function testInsertionSort() {
            log('ğŸŸ£ å¼€å§‹æµ‹è¯•æ’å…¥æ’åº...');
            clearContainer();

            try {
                currentVisualizer = new SortingVisualizer('viz-root', 'insertion');
                window.visualizer = currentVisualizer;
                currentVisualizer.init();
                currentVisualizer.setData([64, 34, 25, 12, 22, 11, 90]);
                log('âœ… æ’å…¥æ’åºåˆå§‹åŒ–æˆåŠŸï¼');
                log('ğŸ“Š æ•°æ®: [64, 34, 25, 12, 22, 11, 90]');
                log('ğŸ’¡ ç‚¹å‡»"æ’­æ”¾"æŒ‰é’®å¼€å§‹æ¼”ç¤º');
            } catch (error) {
                log('âŒ é”™è¯¯: ' + error.message);
                console.error(error);
            }
        }

        function testLinearSearch() {
            log('ğŸŸ  å¼€å§‹æµ‹è¯•çº¿æ€§æœç´¢...');
            clearContainer();

            try {
                currentVisualizer = new SearchVisualizer('viz-root', 'linear');
                window.visualizer = currentVisualizer;
                currentVisualizer.init();
                currentVisualizer.setData([3, 7, 14, 19, 25, 31, 38, 42, 55]);
                currentVisualizer.setTarget(25);
                log('âœ… çº¿æ€§æœç´¢åˆå§‹åŒ–æˆåŠŸï¼');
                log('ğŸ“Š æ•°æ®: [3, 7, 14, 19, 25, 31, 38, 42, 55]');
                log('ğŸ¯ ç›®æ ‡å€¼: 25');
                log('ğŸ’¡ ç‚¹å‡»"æ’­æ”¾"æŒ‰é’®å¼€å§‹æ¼”ç¤º');
            } catch (error) {
                log('âŒ é”™è¯¯: ' + error.message);
                console.error(error);
            }
        }

        function testBinarySearch() {
            log('ğŸ”´ å¼€å§‹æµ‹è¯•äºŒåˆ†æœç´¢...');
            clearContainer();

            try {
                currentVisualizer = new SearchVisualizer('viz-root', 'binary');
                window.visualizer = currentVisualizer;
                currentVisualizer.init();
                currentVisualizer.setData([3, 7, 14, 19, 25, 31, 38, 42, 55]);
                currentVisualizer.setTarget(25);
                log('âœ… äºŒåˆ†æœç´¢åˆå§‹åŒ–æˆåŠŸï¼');
                log('ğŸ“Š æ•°æ®: [3, 7, 14, 19, 25, 31, 38, 42, 55]');
                log('ğŸ¯ ç›®æ ‡å€¼: 25');
                log('ğŸ’¡ ç‚¹å‡»"æ’­æ”¾"æŒ‰é’®å¼€å§‹æ¼”ç¤º');
            } catch (error) {
                log('âŒ é”™è¯¯: ' + error.message);
                console.error(error);
            }
        }

        // è‡ªåŠ¨æµ‹è¯•å†’æ³¡æ’åº
        window.onload = function () {
            log('ğŸš€ é¡µé¢åŠ è½½å®Œæˆ');
            log('ğŸ“¦ æ£€æŸ¥ç±»æ˜¯å¦å·²åŠ è½½...');
            log('AlgorithmVisualizer: ' + (typeof AlgorithmVisualizer !== 'undefined' ? 'âœ…' : 'âŒ'));
            log('SortingVisualizer: ' + (typeof SortingVisualizer !== 'undefined' ? 'âœ…' : 'âŒ'));
            log('SearchVisualizer: ' + (typeof SearchVisualizer !== 'undefined' ? 'âœ…' : 'âŒ'));
            log('GraphVisualizer: ' + (typeof GraphVisualizer !== 'undefined' ? 'âœ…' : 'âŒ'));
            log('');
            log('ğŸ‘† è¯·ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æµ‹è¯•ä¸åŒçš„ç®—æ³•');
        };
    </script>
</body>

</html>